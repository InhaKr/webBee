let w="",count=0,countCart=parseInt(localStorage.getItem("countCart"))||0,x=document.querySelector("#wishlist-body");console.log(x);let hurd=document.querySelector(".product-wishlist");function addProduct(t){if(console.log(t.target.dataset.id),t.target.classList.contains("product-wishlist")&&"grey"===t.target.getAttribute("stroke")){document.querySelectorAll(`[data-id="${t.target.dataset.id}"]`).forEach(function(t){t.setAttribute("stroke","grey"===t.getAttribute("stroke")?"red":"grey")}),console.log(count+=1),document.querySelectorAll(".wishlist-count").forEach(function(t){t.innerHTML=count});let e=document.createElement("tr");e.setAttribute("data-id",`wishlist-row-${t.target.dataset.id}`),e.classList.add("body-tr");let r=document.createElement("td");r.innerHTML=t.target.dataset.name,e.appendChild(r);let a=document.createElement("td");a.innerHTML=t.target.dataset.price,e.appendChild(a);let n=document.createElement("td");n.innerHTML="Delete",n.classList.add("delete"),e.appendChild(n),x.appendChild(e);return}let e=t.target.closest("tr");if(t.target.classList.contains("delete")){console.log(count-=1),document.querySelectorAll(".wishlist-count").forEach(function(t){t.innerHTML=count});let r=t.target.closest("tr").getAttribute("data-id").replace("wishlist-row-","");document.querySelectorAll(`[data-id="${r}"]`).forEach(function(t){t.setAttribute("stroke","grey"===t.getAttribute("stroke")?"red":"grey")}),e.remove()}if(t.target.classList.contains("product-wishlist")&&"red"===t.target.getAttribute("stroke")){document.querySelectorAll(`[data-id="${t.target.dataset.id}"]`).forEach(function(t){t.setAttribute("stroke","grey"===t.getAttribute("stroke")?"red":"grey")}),count-=1,document.querySelectorAll(".wishlist-count").forEach(function(t){t.innerHTML=count});let e=document.querySelector(`[data-id="wishlist-row-${t.target.dataset.id}"`);console.log(e),e.remove();return}w=t.target.getAttribute("stroke")}console.log(count),document.addEventListener("click",addProduct);let cart=JSON.parse(localStorage.getItem("cart"))||[];function addToCart(t,e,r){let a=cart.find(e=>e.id===t);a?a.quantity+=1:cart.push({id:t,name:e,price:parseFloat(r),quantity:1}),countCart+=1,saveCart(),renderCart(),calcCart(countCart)}function removeFromCart(t){let e=cart.find(e=>e.id===t);e&&(countCart-=e.quantity,cart=cart.filter(e=>e.id!==t),saveCart(),renderCart(),calcCart(countCart))}function updateQuantity(t,e){if(e<1){removeFromCart(t);return}let r=cart.find(e=>e.id===t);if(r){let t=r.quantity;r.quantity=e,countCart+=e-t,saveCart(),renderCart(),calcCart(countCart)}}function renderCart(){let t=document.getElementById("cart-items"),e=document.getElementById("total-price");if(0===cart.length){t.innerHTML='<p class="empty-cart">Корзина пуста</p>',document.getElementById("clear-cart").disabled=!0,e.innerHTML=0,calcCart(countCart=0);return}document.getElementById("clear-cart").disabled=!1,t.innerHTML=cart.map(t=>`
        <div class="cart-item">

            <div class="cart-item-details">
              <h4>${t.name}</h4>
            </div>
              <div class="quantity-controls">
                  <button class="quantity-btn" onclick="updateQuantity('${t.id}', ${t.quantity} - 1)">-</button>
                  <span class="quantity-buy">${t.quantity}</span>
                  <button class="quantity-btn" onclick="updateQuantity('${t.id}', ${t.quantity} + 1)">+</button>
              </div>

            <span class="item-price">${(t.price*t.quantity).toFixed(0)} &#8372</span>
            <button class="remove-btn" onclick="removeFromCart('${t.id}')">\u{425}</button>
        </div>
    `).join("");let r=cart.reduce((t,e)=>t+e.price*e.quantity,0);e.textContent=`${r.toFixed(0)} UAN`}function saveCart(){localStorage.setItem("cart",JSON.stringify(cart)),localStorage.setItem("countCart",JSON.stringify(countCart))}function calcCart(t){let e=document.querySelectorAll(".basket-count");countCart=t,e.forEach(e=>{e.innerHTML=t}),localStorage.setItem("countCart",JSON.stringify(countCart))}document.getElementById("clear-cart").addEventListener("click",function(){confirm("Вы уверены, что хотите очистить корзину?")&&(cart=[],calcCart(countCart=0),saveCart(),renderCart())}),document.querySelectorAll(".add-to-cart1").forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();let e=this.dataset.id;addToCart(e,this.dataset.name,this.dataset.price),this.textContent="Добавлено!",setTimeout(()=>{this.textContent="add to cart"},2e3)})}),renderCart(),calcCart(countCart),document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("name"),e=document.getElementById("email"),r=document.getElementById("phone"),a=document.querySelector(".contact-button"),n=document.querySelector(".contact-form");if(!t||!e||!r||!a||!n){console.error("Один или несколько элементов формы не найдены в DOM");return}function c(){let n=t.value.trim(),c=e.value.trim(),o=r.value.trim(),l=/^[a-zA-Zа-яА-ЯґҐєЄіІїЇ]{2,}$/.test(n),i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c),d=/^\+\d{12}$/.test(o);a.disabled=!(l&&i&&d)}t.addEventListener("input",function(t){let e=t.target.value;t.target.value=e.replace(/[^a-zA-Zа-яА-ЯґҐєЄіІїЇ]/g,"");let r=document.getElementById("nameError");e&&!/^[a-zA-Zа-яА-ЯґҐєЄіІїЇ]+$/.test(e)?r.style.display="block":r.style.display="none",c()}),e.addEventListener("input",function(t){let e=t.target.value,r=document.getElementById("emailError");e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?r.style.display="block":r.style.display="none",c()}),r.addEventListener("input",function(t){let e=t.target.value,r=document.getElementById("phoneError");t.target.value=e.replace(/[^0-9+]/g,""),e&&!/^\+\d{0,12}$/.test(e)?r.style.display="block":e&&!/^\+\d{12}$/.test(e)?r.style.display="block":r.style.display="none",c()}),n.addEventListener("submit",function(a){a.preventDefault(),document.querySelectorAll(".error-message").forEach(t=>t.style.display="none");let o=document.querySelector(".success-message");o&&(o.style.display="none");let l=t.value.trim(),i=r.value.trim(),d=e.value.trim(),s=!0;return/^[a-zA-Zа-яА-ЯґҐєЄіІїЇ]{2,}$/.test(l)||(document.getElementById("nameError").style.display="block",s=!1),/^\+\d{12}$/.test(i)||(document.getElementById("phoneError").style.display="block",s=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)||(document.getElementById("emailError").style.display="block",s=!1),s&&o&&(o.style.display="block",n.reset(),c()),s})});
//# sourceMappingURL=webBee.20259329.js.map
